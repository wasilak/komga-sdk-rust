# Komga Rust SDK

A modern, async Rust client for the [Komga](https://komga.org/) REST API, generated and maintained with best practices for real-world use.

## Features
- Full async support (tokio-based)
- All Komga API endpoints covered
- File upload support (multipart)
- Strongly typed models
- Native TLS and Rustls support (feature flags)

## Documentation
- **API Reference:** See [API.md](./API.md) for the full autogenerated API documentation.
- **Komga API Reference:**
	- [Komga website](https://komga.org/docs/openapi/komga-api)
	- [Swagger UI](https://demo.komga.org/swagger-ui.html)
	- [OpenAPI JSON](https://raw.githubusercontent.com/gotson/komga/refs/heads/master/komga/docs/openapi.json)

## Installation
Add to your `Cargo.toml`:

```toml
[dependencies]
komga-sdk = "1.23.4"
# or, for local development:
# komga-sdk = { path = "./komga-sdk" }
```

### Feature Flags
- `native-tls` (default): Use system TLS
- `rustls-tls`: Use Rustls for TLS

## Usage Examples

### Authentication
```rust
use komga_sdk::apis::configuration::Configuration;

let mut config = Configuration::new();
config.api_key = Some(komga_sdk::apis::configuration::ApiKey {
		key: "YOUR_API_KEY".to_string(),
		prefix: None,
});
// or for basic auth:
config.basic_auth = Some(("user".to_string(), Some("pass".to_string())));
```

### Get Current User
```rust
use komga_sdk::apis::current_user_api::get_current_user;
let user = get_current_user(&config).await?;
println!("Current user: {user:?}");
```

### File Upload Example
```rust
use komga_sdk::apis::book_poster_api::add_user_uploaded_book_thumbnail;
let result = add_user_uploaded_book_thumbnail(
		&config,
		"book_id",
		std::path::PathBuf::from("/path/to/cover.jpg"),
		Some(true)
).await?;
println!("Uploaded thumbnail: {result:?}");
```

## Testing
- To run tests: `cargo test`
- For integration tests, you need a running Komga instance (see [Komga Docker](https://komga.org/docs/installation/docker.html)).
- You may use the public demo server for read-only tests, but write operations require your own instance.

## Contributing
Pull requests and issues are welcome! Please see [CONTRIBUTING.md](./CONTRIBUTING.md) if available.

## License
MIT

## Kudos & Acknowledgements
- Generated using [OpenAPI Generator](https://openapi-generator.tech)
- Powered by [Komga](https://komga.org/) and its open API
- Thanks to all open-source contributors

---
For the full autogenerated API documentation, see [API.md](./API.md).
